---
import { SEO } from 'astro-seo'
import { AppConfig } from '~/app'
import '~/assets/global.css'

export interface Props {
  class?: string
  title?: string
  description?: string
}

const className = Astro.props.class
const title = `${Astro.props.title || 'Home'} | ${AppConfig.site_name}`
const description = Astro.props.description || AppConfig.description
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content={AppConfig.author} />
    <meta name="generator" content={Astro.generator} />
    <SEO
      title={`${title} | ${AppConfig.site_name}`}
      description={description}
      canonical={Astro.url.pathname}
      titleDefault={title}
      openGraph={{
        image: {
          url: AppConfig.favicon,
          width: 1200,
          height: 630,
          alt: title,
        },
        basic: {
          title,
          type: 'website',
          image: AppConfig.favicon,
          url: AppConfig.site,
        },
      }}
      twitter={{
        creator: AppConfig.twitter,
        site: AppConfig.site,
        title,
        description,
        image: AppConfig.favicon,
        imageAlt: title,
      }}
    />
    {
      import.meta.env.PROD && (
        <script
          type="text/partytown"
          data-website-id="b59b48d7-8a5e-44ce-9fc5-d3966fb0dbff"
          src="https://analytics.shrjamal.com/umami.js"
        />
      )
    }
  </head>
  <body class:list={['h-screen flex flex-col text-primary-content', className]}>
    <slot />
  </body>
</html>
